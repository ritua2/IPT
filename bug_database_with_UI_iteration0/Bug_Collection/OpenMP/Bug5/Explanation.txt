Error because of incorrect assignment for variale storage attributes

Since T is updated entirely in each iteration, sharing T will cause non-determninistic error.